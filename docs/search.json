[
  {
    "objectID": "process-mining-story.html",
    "href": "process-mining-story.html",
    "title": "Process Mining",
    "section": "",
    "text": "Process mining is een krachtige tool die bedrijven in staat stelt diepgaand inzicht te verkrijgen in hun interne processen. Het stelt organisaties niet alleen in staat om deze processen beter te begrijpen, maar ook om eventuele knelpunten te identificeren en te optimaliseren. In deze blog belichten we de toegevoegde waarde van process mining aan de hand van een illustratief voorbeeld: de toepassing ervan op de eerste hulp van een ziekenhuis.\nLet op  In dit voorbeeld maken we gebruik van fictieve data om de werking van process mining te demonstreren. Het is belangrijk op te merken dat zowel de verstrekte data als de casus fictief zijn en slechts een vereenvoudigde weergave van de realiteit vormen. Echter, biedt deze fictieve situatie een duidelijk inzicht in de mogelijkheden die process mining kan bieden. De fictieve data die we gebruiken is de patients eventlog van BUPAR.  Dit verhaal is een illustratief voorbeeld, lees je liever de technische beschrijving en de achterliggende code? Klik dan hier."
  },
  {
    "objectID": "process-mining-story.html#casus",
    "href": "process-mining-story.html#casus",
    "title": "Process Mining",
    "section": "Casus",
    "text": "Casus\n\nDiederick is het hoofd van de Eerste Hulp in het ziekenhuis. Hij heeft budget gekregen om de eerste hulp te verbeteren, maar weet niet hoe hij dit nu het beste kan aanpakken. Hij hoort dat patiënten vaak klagen over de lange wachttijden, maar de oorzaak voor deze lange wachttijden is onduidelijk."
  },
  {
    "objectID": "process-mining-story.html#analyse-met-behulp-van-process-mining",
    "href": "process-mining-story.html#analyse-met-behulp-van-process-mining",
    "title": "Process Mining",
    "section": "Analyse met behulp van Process Mining",
    "text": "Analyse met behulp van Process Mining\n Hoe kunnen we Diederick helpen en advies geven over de meest effectieve investeringen om de eerste hulp in zijn ziekenhuis te verbeteren door wachttijden te verminderen? Dit vormt een perfect scenario voor de toepassing van process mining. \n\n\nEisen\nOm process mining succesvol toe te passen, is het essentieel dat alle activiteiten zorgvuldig worden geregistreerd. De benodigde informatie omvat:\n\nde start en eind tijd van de activiteiten\nde naam of unieke code van de activiteiten\nde unieke code van de patiënten\nde unieke code van de verantwoordelijke arts of afdeling (optioneel)\n\n\n\nAnalyse frequentie processmap\nDiederick wil graag weten welke stappen worden ondernomen wanneer een patiënt op de eerste hulp belandt. Is er sprake van standaardroutes die patiënten volgen, zijn er onverwachte uitzonderingen? Wat is de meest gangbare route? Om hier inzicht in te krijgen, maken we gebruik van een process map. Deze visualiseert niet alleen het aantal patiënten dat een specifieke handeling ondergaat, maar geeft tevens de opeenvolging van handelingen weer. Zo verkrijgen we helderheid over de gebruikelijke gang van zaken en eventuele variaties in het proces.\n\n\n\n\n\n\nFiguur 1. Process map met het percentage patiënten dat een bepaalde handeling ondergaat\nUit deze process map valt direct veel informatie te halen. We zien dat iedere patiënt geregistreerd wordt en een beoordeling ondergaat. Na de beoordeling blijkt dat een patiënt ofwel een bloedtest en behandeling A krijgt, of behandeling B. Opvallend voor Diederick is dat ongeveer evenveel mensen behandeling A als behandeling B krijgen, in tegenstelling tot wat hij had verwacht. Behandeling B zou alleen ingezet moeten worden wanneer strict noodzakelijk, aangezien Behandeling B aanzienlijk duurder is voor het ziekenhuis en ook meer tijd kost. Nadat Diederick dit bespreekt met zijn collega’s, ontdekt hij dat afdeling van Behandeling A onderbezet is, terwijl het op de afdeling van Behandeling B doorgaans rustiger is. Door de patiënten te verdelen over de afdelingen van Behandeling A en B, probeerden zijn collega’s de wachttijd al te beperken.\n\n\nAnalyse performance process map\nNu Diederick een beeld heeft van de volgorde en frequentie van de activiteiten op de eerste hulp, is hij benieuwd naar welke activiteiten de meeste tijd in beslag nemen en op welke activiteiten patiënten lang moeten wachten. Om deze informatie te verkrijgen, maken we gebruik van een process map waarin de gemiddelde duur van de activiteiten wordt weergegeven.\n\n\n\n\n\n\nFiguur 2. Process map met de gemiddelde duur van de handelingen\n Diederick merkt direct op dat triage de meeste tijd in beslag neemt, wat in lijn is met zijn verwachtingen. Het is immers tijdsintensief een patiënt te spreken en te beoordelen wat de beste behandeling zal zijn. Wat echter opvallend is, is dat Behandeling A gemiddeld nog net iets langer duurt dan Behandeling B, terwijl normaal gesproken Behandeling B langer duurt. Zijn collega’s die verantwoordelijk zijn voor Behandeling A geven aan dat de medische apparatuur verouderd is, wat resulteert in aanzienlijke vertraging.\n\n\nAnalyse trace explorer\nNaast de process map zijn er nog andere methoden om inzicht te krijgen in de processen, zoals met een zogenaamde trace explorer:\n\n\n\n\n\nFiguur 3. Trace Explorer\nElk blokje in de visualisatie vertegenwoordigt een specifieke activiteit, waarbij de volgorde van de blokjes de opeenvolging van de activiteiten aangeeft. Een specifieke reeks activiteiten wordt aangeduid als een ‘trace’. Aan de rechterkant wordt aangegeven hoe vaak deze trace voorkomt. Opvallend is dat de activiteiten niet altijd worden afgesloten met een check-out (het lichtgroene blokje), wat tegen de verwachtingen van Diederick ingaat.\nNa onderzoek ontdekt Diederick dat patiënten die geen check-out hadden, haast hadden en niet wilden wachten op de vervolgstappen omdat ze de wachttijd te lang vonden. Dit vormt voor Diederick nog meer motivatie om de wachttijden in het ziekenhuis te verbeteren.\n\n\nConformance checking\nIn een process zitten vaak bepaalde regels die gevolgd moeten worden, en waar maar met een bepaald percentage van afgeweken mag worden. Dit kunnen we snel analyseren. Hier een paar voorbeelden op de eerste hulp:\n\nVoordat Behandeling B wordt uitgevoerd moet er altijd een bloedtest worden gedaan. Dit blijkt in dit geval voor 100% van de patiënten te kloppen.\nHet hele process moet altijd afgerond worden met een checkout. Dit blijkt voor 98.6% van de patiënten te kloppen.\nBehandeling A of B vindt altijd maar 1 keer in het proces plaats. Dit is in 100% van de patiënten het geval."
  },
  {
    "objectID": "process-mining-story.html#conclusie",
    "href": "process-mining-story.html#conclusie",
    "title": "Process Mining",
    "section": "Conclusie",
    "text": "Conclusie\n Na aanleiding van de resultaten verkregen door middel van Processmining, heeft Diederick besloten te investeren in nieuwe medische apparatuur en te onderzoeken welke collega’s op de afdeling van Behandeling B ook taken op de afdeling van Behandeling A kunnen overnemen. Het resultaat is opmerkelijk: de wachttijd voor patiënten neemt aanzienlijk af, en bovendien krijgen de patiënten nu de behandeling die daadwerkelijk nodig is (namelijk Behandeling A in plaats van Behandeling B). Dit leidt tot tevredenheid bij zowel de patiënten als de werknemers, en natuurlijk Diederick zelf.\n\nHet is belangrijk op te merken dat deze casus fictief is en de realiteit vaak complexere processen met zich meebrengt. Dit voorbeeld illustreerd hoe processmining kan helpen bij het identificeren van processen en knelpunten, en hoe deze informatie kan helpen om processen te verbeteren, en daarmee tevredenheid van de klant, en misschien wel de uitkomst van behandelingen. In dit geval hebben we een voorbeeld genomen in het ziekenhuis, maar kan bij allerlei bedrijfsprocessen van pas komen.\n\nOverige toepassingen\nProcess mining kan ook helpen om andere gegevens te begrijpen, bijvoorbeeld:\n\nHeeft het proces dat de patiënt doorloopt effect op de klanttevredenheid?\nHeeft het proces dat de patiënt doorloopt effect op de uitkomst van de behandeling?\nKunnen we voorspellen wat de uitkomst van een behandeling is op basis van het proces dat de patiënt doorlopen heeft?\n\n De gebruikte afbeeldingen zijn afkomstig uit Storyset People Illustrations en Storyset Work Illustrations."
  },
  {
    "objectID": "process_mining_Carlijn.html#wat-is-het",
    "href": "process_mining_Carlijn.html#wat-is-het",
    "title": "Process Mining",
    "section": "1. Wat is het?",
    "text": "1. Wat is het?\nProcess mining is een analytische benadering waarmee organisaties inzicht kunnen krijgen in hun bedrijfsprocessen op basis van feitelijke gegevens. Het maakt gebruik van logbestanden en gegevens uit informatiesystemen om de werkelijke uitvoering van processen te visualiseren en analyseren."
  },
  {
    "objectID": "process_mining_Carlijn.html#waar-kan-het-voor-worden-gebruikt",
    "href": "process_mining_Carlijn.html#waar-kan-het-voor-worden-gebruikt",
    "title": "Process Mining",
    "section": "2. Waar kan het voor worden gebruikt?",
    "text": "2. Waar kan het voor worden gebruikt?\nHet nut van process mining ligt in het identificeren van inefficiënties, bottlenecks en variaties in processen, waardoor organisaties verbeteringen kunnen aanbrengen, kosten kunnen verlagen en de operationele efficiëntie kunnen optimaliseren.Het helpt ook bij het begrijpen van complexe bedrijfsprocessen en het nemen van datagestuurde beslissingen voor procesoptimalisatie."
  },
  {
    "objectID": "process_mining_Carlijn.html#de-data",
    "href": "process_mining_Carlijn.html#de-data",
    "title": "Process Mining",
    "section": "3. De data",
    "text": "3. De data\nOm te beginnen met het toepassen van process mining zijn een aantal libraries nodig:\n\n# Laden van de benodigde libraries\n\nlibrary(bupaR)\nlibrary(xesreadR)\nlibrary(eventdataR)\nlibrary(edeaR)\nlibrary(processmapR)\nlibrary(processmonitR)\nlibrary(processanimateR)\nlibrary(processcheckR)\n\nVerder is een zogenaamde “Event Log” nodig. We maken hier gebruik van een synthetische dataset waarin de trajecten zijn geregisteerd van patiënten die op de spoedeisende hulp belanden. Met behulp van deze dataset illustreren we de mogelijkheden van process mining. Hieronder een voorproefje van de dataset met bijbehorende relevante termen (de data zelf is te vinden onder “# A tibble 6x7”):\n\n# Toon de eerste regels van de dataset\nhead(patients)\n\n# Log of 6 events consisting of:\n1 trace \n6 cases \n6 instances of 1 activity \n1 resource \nEvents occurred from 2017-01-02 11:41:53 until 2017-01-04 16:07:47 \n \n# Variables were mapped as follows:\nCase identifier:        patient \nActivity identifier:        handling \nResource identifier:        employee \nActivity instance identifier:   handling_id \nTimestamp:          time \nLifecycle transition:       registration_type \n\n# A tibble: 6 × 7\n  handling    patient employee handling_id registration_type time               \n  &lt;fct&gt;       &lt;chr&gt;   &lt;fct&gt;    &lt;chr&gt;       &lt;fct&gt;             &lt;dttm&gt;             \n1 Registrati… 1       r1       1           start             2017-01-02 11:41:53\n2 Registrati… 2       r1       2           start             2017-01-02 11:41:53\n3 Registrati… 3       r1       3           start             2017-01-04 01:34:05\n4 Registrati… 4       r1       4           start             2017-01-04 01:34:04\n5 Registrati… 5       r1       5           start             2017-01-04 16:07:47\n6 Registrati… 6       r1       6           start             2017-01-04 16:07:47\n# ℹ 1 more variable: .order &lt;int&gt;\n\n\nEen typische Event Log bevat vaak de volgende elementen:\n\nCase Identifier: dit verwijst naar het onderwerp dat de activiteiten doorloopt, in ons geval de patiënt.\nActivity Identifier: dit verwijst naar de activiteiten in het proces, zoals Registratie, Triage en Assessment, Bloedtest, enzovoort.\nActivity Instance Identifier: een unieke identifier voor elke keer dat de activiteit wordt uitgevoerd.\nLife Cycle Identifier: Dit geeft de status van de activiteit aan, in dit geval ‘started’ of ‘completed’.\nTimestamp: de begin- of eindtijd van een activiteit. Er zijn tijden voor ‘started’ en ‘completed’, zodat de duur van de activiteit kan worden berekend.\nResource Identifier: Dit geeft aan wie de activiteit heeft uitgevoerd of waar deze heeft plaatsgevonden."
  },
  {
    "objectID": "process_mining_Carlijn.html#de-event-log-verkennen",
    "href": "process_mining_Carlijn.html#de-event-log-verkennen",
    "title": "Process Mining",
    "section": "4. De event log verkennen",
    "text": "4. De event log verkennen\nWanneer je een dataset hebt waarop je process mining wilt toepassen, moeten dus eerst de bovengenoemde elementen worden geïdentificeerd in die dataset.\nIn de patients dataset horen de volgende kolommen bij de elementen:\n\n# Toon welke kolommen uit de data bij de benodigde event log elementen horen\npatients %&gt;% mapping\n\nCase identifier:        patient \nActivity identifier:        handling \nResource identifier:        employee \nActivity instance identifier:   handling_id \nTimestamp:          time \nLifecycle transition:       registration_type \n\n\nHier zien we bijvoorbeeld dat de kolom “patient” uit de dataset is vastgesteld als het element “Case identifier”.\n\n4.1 Activiteiten en Resources\nHet is ook interessant om te verkennen hoeveel verschillende soorten activiteiten er zijn, of hoeveel verschillende resources of patienten.\n\npaste(\"Aantal verschillende activiteiten:\", n_activities(patients))\n\n[1] \"Aantal verschillende activiteiten: 7\"\n\ndata.frame(\"Unieke_activiteiten\" = unique(patients$handling))\n\n    Unieke_activiteiten\n1          Registration\n2 Triage and Assessment\n3            Blood test\n4              MRI SCAN\n5                 X-Ray\n6       Discuss Results\n7             Check-out\n\npaste(\"Aantal verschillende resources:\", n_resources(patients))\n\n[1] \"Aantal verschillende resources: 7\"\n\ndata.frame(\"Unieke_resources\" = unique(patients$employee))\n\n  Unieke_resources\n1               r1\n2               r2\n3               r3\n4               r4\n5               r5\n6               r6\n7               r7\n\npaste(\"Aantal verschillende patienten:\", n_cases(patients))\n\n[1] \"Aantal verschillende patienten: 500\"\n\n\nEen voorbeeld van een relevante vraag kan zijn: hoe vaak worden de verschillende activiteiten uitgevoerd? Welke activiteiten worden relevatief het meest uitgevoerd? Onderstaande resultaat geeft antwoord op deze vragen.\n\nactivities(patients)\n\n# A tibble: 7 × 3\n  handling              absolute_frequency relative_frequency\n  &lt;fct&gt;                              &lt;int&gt;              &lt;dbl&gt;\n1 Registration                         500             0.184 \n2 Triage and Assessment                500             0.184 \n3 Discuss Results                      495             0.182 \n4 Check-out                            492             0.181 \n5 X-Ray                                261             0.0959\n6 Blood test                           237             0.0871\n7 MRI SCAN                             236             0.0867\n\n\nWe kunnen het resultaat als volgt interpreteren:\n\nEerder is vastgesteld dat er 500 patienten zijn in de dataset. Al deze patienten doorlopen de activiteiten “Registration” en “Triage and Assessment”.\nHet is logisch dat de patienten daarna opsplitsen over verschillende behandelingen, zoals de activiteiten “X-Ray”, “Blood test” en “MRI SCAN”.\nInteressant is om te zien dat niet alle patienten de activiteiten “Discuss Results” en “Check-out” doorlopen. Als vervolg hierop kan worden onderzocht of deze activiteiten misschien worden overgeslagen na een specifieke activiteit. Hier komen we later op terug.\n\n\n\n4.2 Traces\nWelke paden van activiteiten doorlopen patiënten zoal?\nDe relevante term hiervoor is “trace”. Een trace is een opeenvolging van één of meerdere activiteiten. Met andere woorden: een trace is eigenlijk een pad van activiteiten dat wordt gevolgd door een individuele patient vanaf het begin tot het einde van het proces. In dit geval zijn er 7 unieke paden van activiteiten die patienten hebben gevolgd.\n\npaste(\"aantal verschillende traces:\", n_traces(patients))\n\n[1] \"aantal verschillende traces: 7\"\n\ntraces(patients)\n\n# A tibble: 7 × 3\n  trace                                    absolute_frequency relative_frequency\n  &lt;chr&gt;                                                 &lt;int&gt;              &lt;dbl&gt;\n1 Registration,Triage and Assessment,X-Ra…                258              0.516\n2 Registration,Triage and Assessment,Bloo…                234              0.468\n3 Registration,Triage and Assessment,Bloo…                  2              0.004\n4 Registration,Triage and Assessment,X-Ray                  2              0.004\n5 Registration,Triage and Assessment                        2              0.004\n6 Registration,Triage and Assessment,X-Ra…                  1              0.002\n7 Registration,Triage and Assessment,Bloo…                  1              0.002\n\n\nEen voorbeeld van zo’n pad is “Registration, Triage and Assessment”. Dit pad komt 2 keer voor in de dataset. Van alle traces die voorkomen is 0.2% deze specifieke trace. Het komt dus niet vaak voor dat een patient enkel geregistreerd en onderzocht wordt, maar dat er geen verdere behandeling plaatsvindt."
  },
  {
    "objectID": "process_mining_Carlijn.html#visualisaties",
    "href": "process_mining_Carlijn.html#visualisaties",
    "title": "Process Mining",
    "section": "5. Visualisaties",
    "text": "5. Visualisaties\nBovenstaande analyses geven interessante inzichten, maar er zijn meer mogelijkheden. Zo kunnen de verschillende processen ook visueel worden weergegeven in een process map.\n\n5.1 Aantallen\n\n# Er kunnen verschillende gegevens in de map worden getoond:\n# \n#   absolute: aantal executies van activity\n# \n#   absolute-case: aantal cases\n# \n#   relative: proportion of all activity instances with this type\n# \n#   relative-case: proportion of all cases that did this activity\n# \n#   relative-antecedent: percentage dat uit deze \"source komt\", komt in deze flow\n# \n#   relative-consequent: percentage dat in \"target\" terecht komt komt uit deze flow\n\npatients %&gt;% process_map(frequency(\"absolute-case\"))\n\n\n\n\n\nEr zijn een aantal interessante inzichten uit deze visualisatie te halen:\n\nVerreweg de meeste patienten doorlopen een pad waarbij ze beginnen bij Registration en Triage and Assessment, daarna een Blood test en MRI scan doen of een X-Ray krijgen, om vervolgens bij Discuss Results en Check-out te eindigen.\nZoals eerder vastgesteld, zijn er een aantal (5) patiënten die “Discuss Results” en “Check-out” overslaan. Deze patiënten zijn niet afkomstig uit een specifieke activiteit maar uit drie verschillende activiteiten: Triage and Assessment (2), Blood test (1) en X-Ray (2). De oorzaak van het overslaan van “Discuss Results” en “Check-out” lijkt dus niet te liggen bij één specifieke activiteit.\n\n\n\n5.2 Tijden\nEr kan ook onderzocht worden hoe lang alle activiteiten gemiddeld duren, zie het schema hieronder.\n\npatients %&gt;% process_map(performance(FUN = mean,\"hours\"))\n\n\n\n\n\nIn dit schema is duidelijk te zien dat het na Triage and Assessment relatief lang duurt voor patienten aan de beurt zijn bij de volgende activiteit. Mogelijk is hier dus nog ruimte voor verbetering.\nIn het vorige schema met aantallen is te zien dat 2 patienten vanaf Triage and Assessment geen behandeling ondergaan. De reden hiervoor zou een lange wachttijd kunnen zijn. Maar gezien het zeer lage aantal patienten (2) lijkt het er in ieder geval niet op dat de relatief lange wachttijd ervoor zorgt dat veel patienten besluiten geen behandeling te ondergaan.\nDe schema’s met aantallen en tijden kunnen ook gecombineerd worden in één schema:\n\npatients %&gt;% process_map(type = performance(FUN = mean, \"hours\"), sec = frequency(\"absolute_case\"))\n\n\n\n\n\n\n\n5.3 Trace Explorer\nHet kan ook interessant zijn om dieper in de traces (zie 4.2) te duiken. Bijvoorbeeld: welk pad doorlopen patiënten het meest? In dit geval is dat het pad Registration - Triage and Assessment - X-Ray - Discuss Results - Checkout.\n\ntrace_explorer(patients, coverage = 1)"
  },
  {
    "objectID": "process_mining_Carlijn.html#conformance-checking",
    "href": "process_mining_Carlijn.html#conformance-checking",
    "title": "Process Mining",
    "section": "6. Conformance checking",
    "text": "6. Conformance checking\nSoms zijn er bepaalde aannames die je doet over hoe processen verlopen in jouw organisatie. Deze aannames kunnen getoetst worden. Zo kan er bijvoorbeeld gecheckt worden of patienten altijd eindigen met een check-out.\n\npatients %&gt;% \n    check_rule(ends(\"Check-out\"), label = \"r1\") %&gt;%\n    group_by(r1) %&gt;%\n    n_cases()\n\n# A tibble: 2 × 2\n  r1    n_cases\n  &lt;lgl&gt;   &lt;int&gt;\n1 FALSE       8\n2 TRUE      492\n\n\nUit bovenstaande resultaat kunnen we concluderen dat 8 patienten niet zijn geëindigd met een check-out. Het kan mogelijk de moeite waard zijn om deze patienten verder te onderzoeken."
  },
  {
    "objectID": "process_mining_Carlijn.html#inleiding",
    "href": "process_mining_Carlijn.html#inleiding",
    "title": "Process Mining",
    "section": "Inleiding",
    "text": "Inleiding\nProcessen zijn overal. Door ze te analyseren, kunnen interessante inzichten worden verkregen. In deze demo laten we een aantal van de mogelijkheden van process mining zien. Daarbij laten we ook direct de code zien die gebruikt kan worden om de analyses uit te voeren."
  },
  {
    "objectID": "process_mining_Carlijn.html#bronnen",
    "href": "process_mining_Carlijn.html#bronnen",
    "title": "Process Mining",
    "section": "7. Bronnen",
    "text": "7. Bronnen\n\nCode: https://bupaverse.github.io/docs/index.html\nDataset: https://bupaverse.github.io/docs/public_logs.html"
  },
  {
    "objectID": "technical-story.html#inleiding",
    "href": "technical-story.html#inleiding",
    "title": "Process Mining",
    "section": "Inleiding",
    "text": "Inleiding\nProcessen zijn overal. Door ze te analyseren, kunnen interessante inzichten worden verkregen. In deze demo laten we een aantal van de mogelijkheden van process mining zien. Daarbij laten we ook direct de code zien die gebruikt kan worden om de analyses uit te voeren."
  },
  {
    "objectID": "technical-story.html#wat-is-het",
    "href": "technical-story.html#wat-is-het",
    "title": "Process Mining",
    "section": "1. Wat is het?",
    "text": "1. Wat is het?\nProcess mining is een analytische benadering waarmee organisaties inzicht kunnen krijgen in hun bedrijfsprocessen op basis van feitelijke gegevens. Het maakt gebruik van logbestanden en gegevens uit informatiesystemen om de werkelijke uitvoering van processen te visualiseren en analyseren."
  },
  {
    "objectID": "technical-story.html#waar-kan-het-voor-worden-gebruikt",
    "href": "technical-story.html#waar-kan-het-voor-worden-gebruikt",
    "title": "Process Mining",
    "section": "2. Waar kan het voor worden gebruikt?",
    "text": "2. Waar kan het voor worden gebruikt?\nHet nut van process mining ligt in het identificeren van inefficiënties, bottlenecks en variaties in processen, waardoor organisaties verbeteringen kunnen aanbrengen, kosten kunnen verlagen en de operationele efficiëntie kunnen optimaliseren.Het helpt ook bij het begrijpen van complexe bedrijfsprocessen en het nemen van datagestuurde beslissingen voor procesoptimalisatie."
  },
  {
    "objectID": "technical-story.html#de-data",
    "href": "technical-story.html#de-data",
    "title": "Process Mining",
    "section": "3. De data",
    "text": "3. De data\nOm te beginnen met het toepassen van process mining zijn een aantal libraries nodig:\n\n# Laden van de benodigde libraries\n\nlibrary(bupaR)\nlibrary(xesreadR)\nlibrary(eventdataR)\nlibrary(edeaR)\nlibrary(processmapR)\nlibrary(processmonitR)\nlibrary(processanimateR)\nlibrary(processcheckR)\n\nVerder is een zogenaamde “Event Log” nodig. We maken hier gebruik van een synthetische dataset waarin de trajecten zijn geregisteerd van patiënten die op de spoedeisende hulp belanden. Met behulp van deze dataset illustreren we de mogelijkheden van process mining. Hieronder een voorproefje van de dataset met bijbehorende relevante termen (de data zelf is te vinden onder “# A tibble 6x7”):\n\n# Toon de eerste regels van de dataset\nhead(patients)\n\n# Log of 6 events consisting of:\n1 trace \n6 cases \n6 instances of 1 activity \n1 resource \nEvents occurred from 2017-01-02 11:41:53 until 2017-01-04 16:07:47 \n \n# Variables were mapped as follows:\nCase identifier:        patient \nActivity identifier:        handling \nResource identifier:        employee \nActivity instance identifier:   handling_id \nTimestamp:          time \nLifecycle transition:       registration_type \n\n# A tibble: 6 × 7\n  handling    patient employee handling_id registration_type time               \n  &lt;fct&gt;       &lt;chr&gt;   &lt;fct&gt;    &lt;chr&gt;       &lt;fct&gt;             &lt;dttm&gt;             \n1 Registrati… 1       r1       1           start             2017-01-02 11:41:53\n2 Registrati… 2       r1       2           start             2017-01-02 11:41:53\n3 Registrati… 3       r1       3           start             2017-01-04 01:34:05\n4 Registrati… 4       r1       4           start             2017-01-04 01:34:04\n5 Registrati… 5       r1       5           start             2017-01-04 16:07:47\n6 Registrati… 6       r1       6           start             2017-01-04 16:07:47\n# ℹ 1 more variable: .order &lt;int&gt;\n\n\nEen typische Event Log bevat vaak de volgende elementen:\n\nCase Identifier: dit verwijst naar het onderwerp dat de activiteiten doorloopt, in ons geval de patiënt.\nActivity Identifier: dit verwijst naar de activiteiten in het proces, zoals Registratie, Triage en Assessment, Bloedtest, enzovoort.\nActivity Instance Identifier: een unieke identifier voor elke keer dat de activiteit wordt uitgevoerd.\nLife Cycle Identifier: Dit geeft de status van de activiteit aan, in dit geval ‘started’ of ‘completed’.\nTimestamp: de begin- of eindtijd van een activiteit. Er zijn tijden voor ‘started’ en ‘completed’, zodat de duur van de activiteit kan worden berekend.\nResource Identifier: Dit geeft aan wie de activiteit heeft uitgevoerd of waar deze heeft plaatsgevonden."
  },
  {
    "objectID": "technical-story.html#de-event-log-verkennen",
    "href": "technical-story.html#de-event-log-verkennen",
    "title": "Process Mining",
    "section": "4. De event log verkennen",
    "text": "4. De event log verkennen\nWanneer je een dataset hebt waarop je process mining wilt toepassen, moeten dus eerst de bovengenoemde elementen worden geïdentificeerd in die dataset.\nIn de patients dataset horen de volgende kolommen bij de elementen:\n\n# Toon welke kolommen uit de data bij de benodigde event log elementen horen\npatients %&gt;% mapping\n\nCase identifier:        patient \nActivity identifier:        handling \nResource identifier:        employee \nActivity instance identifier:   handling_id \nTimestamp:          time \nLifecycle transition:       registration_type \n\n\nHier zien we bijvoorbeeld dat de kolom “patient” uit de dataset is vastgesteld als het element “Case identifier”.\n\n4.1 Activiteiten en Resources\nHet is ook interessant om te verkennen hoeveel verschillende soorten activiteiten er zijn, of hoeveel verschillende resources of patienten.\n\npaste(\"Aantal verschillende activiteiten:\", n_activities(patients))\n\n[1] \"Aantal verschillende activiteiten: 7\"\n\ndata.frame(\"Unieke_activiteiten\" = unique(patients$handling))\n\n    Unieke_activiteiten\n1          Registration\n2 Triage and Assessment\n3            Blood test\n4              MRI SCAN\n5                 X-Ray\n6       Discuss Results\n7             Check-out\n\npaste(\"Aantal verschillende resources:\", n_resources(patients))\n\n[1] \"Aantal verschillende resources: 7\"\n\ndata.frame(\"Unieke_resources\" = unique(patients$employee))\n\n  Unieke_resources\n1               r1\n2               r2\n3               r3\n4               r4\n5               r5\n6               r6\n7               r7\n\npaste(\"Aantal verschillende patienten:\", n_cases(patients))\n\n[1] \"Aantal verschillende patienten: 500\"\n\n\nEen voorbeeld van een relevante vraag kan zijn: hoe vaak worden de verschillende activiteiten uitgevoerd? Welke activiteiten worden relevatief het meest uitgevoerd? Onderstaande resultaat geeft antwoord op deze vragen.\n\nactivities(patients)\n\n# A tibble: 7 × 3\n  handling              absolute_frequency relative_frequency\n  &lt;fct&gt;                              &lt;int&gt;              &lt;dbl&gt;\n1 Registration                         500             0.184 \n2 Triage and Assessment                500             0.184 \n3 Discuss Results                      495             0.182 \n4 Check-out                            492             0.181 \n5 X-Ray                                261             0.0959\n6 Blood test                           237             0.0871\n7 MRI SCAN                             236             0.0867\n\n\nWe kunnen het resultaat als volgt interpreteren:\n\nEerder is vastgesteld dat er 500 patienten zijn in de dataset. Al deze patienten doorlopen de activiteiten “Registration” en “Triage and Assessment”.\nHet is logisch dat de patienten daarna opsplitsen over verschillende behandelingen, zoals de activiteiten “X-Ray”, “Blood test” en “MRI SCAN”.\nInteressant is om te zien dat niet alle patienten de activiteiten “Discuss Results” en “Check-out” doorlopen. Als vervolg hierop kan worden onderzocht of deze activiteiten misschien worden overgeslagen na een specifieke activiteit. Hier komen we later op terug.\n\n\n\n4.2 Traces\nWelke paden van activiteiten doorlopen patiënten zoal?\nDe relevante term hiervoor is “trace”. Een trace is een opeenvolging van één of meerdere activiteiten. Met andere woorden: een trace is eigenlijk een pad van activiteiten dat wordt gevolgd door een individuele patient vanaf het begin tot het einde van het proces. In dit geval zijn er 7 unieke paden van activiteiten die patienten hebben gevolgd.\n\npaste(\"aantal verschillende traces:\", n_traces(patients))\n\n[1] \"aantal verschillende traces: 7\"\n\ntraces(patients)\n\n# A tibble: 7 × 3\n  trace                                    absolute_frequency relative_frequency\n  &lt;chr&gt;                                                 &lt;int&gt;              &lt;dbl&gt;\n1 Registration,Triage and Assessment,X-Ra…                258              0.516\n2 Registration,Triage and Assessment,Bloo…                234              0.468\n3 Registration,Triage and Assessment,Bloo…                  2              0.004\n4 Registration,Triage and Assessment,X-Ray                  2              0.004\n5 Registration,Triage and Assessment                        2              0.004\n6 Registration,Triage and Assessment,X-Ra…                  1              0.002\n7 Registration,Triage and Assessment,Bloo…                  1              0.002\n\n\nEen voorbeeld van zo’n pad is “Registration, Triage and Assessment”. Dit pad komt 2 keer voor in de dataset. Van alle traces die voorkomen is 0.2% deze specifieke trace. Het komt dus niet vaak voor dat een patient enkel geregistreerd en onderzocht wordt, maar dat er geen verdere behandeling plaatsvindt."
  },
  {
    "objectID": "technical-story.html#visualisaties",
    "href": "technical-story.html#visualisaties",
    "title": "Process Mining",
    "section": "5. Visualisaties",
    "text": "5. Visualisaties\nBovenstaande analyses geven interessante inzichten, maar er zijn meer mogelijkheden. Zo kunnen de verschillende processen ook visueel worden weergegeven in een process map.\n\n5.1 Aantallen\n\n# Er kunnen verschillende gegevens in de map worden getoond:\n# \n#   absolute: aantal keer dat de activiteit zich voordoet\n# \n#   absolute-case: aantal cases (in dit geval patiënten) die de activiteit ondergaan\n# \n#   relative: proportie aantal keer dat deeze activiteit zich voortdoet op vergeleken met het totaal\n# \n#   relative-case: proportie van alle cases die deze activiteit ondergaan\n\n# daarnaast kun je ook definiëren wat de pijlen moeten weergeven en combinaties \n#van weergave maken. Hieronder laten we in de nodes het aantal cases en het \n#relatieve aantal zien, en op pijlen (flows) de het percentage dat naar elke \n#volgende node gaat.\n\npatients %&gt;% process_map(type_nodes = frequency(\"relative-case\"), sec_nodes = frequency(\"absolute-case\"), type_edges = frequency(\"relative\"))\n\n\n\n\n\nEr zijn een aantal interessante inzichten uit deze visualisatie te halen:\n\nVerreweg de meeste patienten doorlopen een pad waarbij ze beginnen bij Registration en Triage and Assessment, daarna een Blood test en MRI scan doen of een X-Ray krijgen, om vervolgens bij Discuss Results en Check-out te eindigen.\nZoals eerder vastgesteld, zijn er een aantal (5) patiënten die “Discuss Results” en “Check-out” overslaan. Deze patiënten zijn niet afkomstig uit een specifieke activiteit maar uit drie verschillende activiteiten: Triage and Assessment (2), Blood test (1) en X-Ray (2). De oorzaak van het overslaan van “Discuss Results” en “Check-out” lijkt dus niet te liggen bij één specifieke activiteit.\n\n\n\n5.2 Tijden\nEr kan ook onderzocht worden hoe lang alle activiteiten gemiddeld duren, zie het schema hieronder.\n\npatients %&gt;% process_map(performance(FUN = mean,\"hours\"))\n\n\n\n\n\nIn dit schema is duidelijk te zien dat het na Triage and Assessment relatief lang duurt voor patienten aan de beurt zijn bij de volgende activiteit. Mogelijk is hier dus nog ruimte voor verbetering.\nIn het vorige schema met aantallen is te zien dat 2 patienten vanaf Triage and Assessment geen behandeling ondergaan. De reden hiervoor zou een lange wachttijd kunnen zijn. Maar gezien het zeer lage aantal patienten (2) lijkt het er in ieder geval niet op dat de relatief lange wachttijd ervoor zorgt dat veel patienten besluiten geen behandeling te ondergaan.\nDe schema’s met aantallen en tijden kunnen ook gecombineerd worden in één schema:\n\npatients %&gt;% process_map(type = performance(FUN = mean, \"hours\"), sec = frequency(\"absolute_case\"))\n\n\n\n\n\n\n\n5.3 Trace Explorer\nHet kan ook interessant zijn om dieper in de traces (zie 4.2) te duiken. Bijvoorbeeld: welk pad doorlopen patiënten het meest? In dit geval is dat het pad Registration - Triage and Assessment - X-Ray - Discuss Results - Checkout.\n\ntrace_explorer(patients, coverage = 1)"
  },
  {
    "objectID": "technical-story.html#conformance-checking",
    "href": "technical-story.html#conformance-checking",
    "title": "Process Mining",
    "section": "6. Conformance checking",
    "text": "6. Conformance checking\nSoms zijn er bepaalde aannames die je doet over hoe processen verlopen in jouw organisatie. Deze aannames kunnen getoetst worden. Zo kan er bijvoorbeeld gecheckt worden of patienten altijd eindigen met een check-out.\n\npatients %&gt;% \n    check_rule(ends(\"Check-out\"), label = \"r1\") %&gt;%\n    group_by(r1) %&gt;%\n    n_cases()\n\n# A tibble: 2 × 2\n  r1    n_cases\n  &lt;lgl&gt;   &lt;int&gt;\n1 FALSE       8\n2 TRUE      492\n\n\nUit bovenstaande resultaat kunnen we concluderen dat 8 patienten niet zijn geëindigd met een check-out. Het kan mogelijk de moeite waard zijn om deze patienten verder te onderzoeken."
  },
  {
    "objectID": "technical-story.html#bronnen",
    "href": "technical-story.html#bronnen",
    "title": "Process Mining",
    "section": "7. Bronnen",
    "text": "7. Bronnen\n\nCode: https://bupaverse.github.io/docs/index.html\nDataset: https://bupaverse.github.io/docs/public_logs.html"
  }
]